<% @question_papers = QuestionPaper.where(paper_id: @paper.ids) %>
<% @correct = QuestionPaper.where(paper_id: @paper.ids, judge: true) %>
<div class = "text-center text-3xl my-2 py-2">正答率：<%= @correct.count %>/<%= @question_papers.count %></div>
<% @question_papers.each do |question_paper| %>
  <div class="max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden md:max-w-2xl mb-1">
    <div class="md:flex">
      <div class="p-8">
        <div class="uppercase tracking-wide text-sm text-black font-semibold">
          <%= question_paper.question.sentence %>
        </div>
        <% if question_paper.question.id == 92 %>
          <%= image_tag 'q_kou_r2_g10.png' %>
        <% elsif question_paper.question.id == 30 %>
          <%= image_tag 'q_kou_r3_g12.png' %>
        <% elsif question_paper.question.id == 31 %>
          <%= image_tag 'q_kou_r3_g10-1.png' %>
        <% elsif question_paper.question.id == 197 %>
          <%= image_tag 'q_otsu_r3_g10-1.png' %>
        <% elsif question_paper.question.id == 18 %>
          <%= image_tag 'q_kou_r3_k5.png' %>
        <% end %>
        <% if question_paper.question.exception1.present? %>
          <p class="mt-2 text-black"><%= question_paper.question.exception1 %></p>
        <% end %>
        <% if question_paper.question.exception2.present? %>
          <p class="mt-2 text-black"><%= question_paper.question.exception2 %></p>
        <% end %>
        <% if question_paper.question.exception3.present? %>
          <p class="mt-2 text-black"><%= question_paper.question.exception3 %></p>
        <% end %>
        <% if question_paper.question.exception4.present? %>
          <p class="mt-2 text-black"><%= question_paper.question.exception4 %></p>
        <% end %>
        <% if question_paper.question.exception5.present? %>
          <p class="mt-2 text-black"><%= question_paper.question.exception5 %></p>
        <% end %>
        <% if question_paper.question.id == 31 %>
          <%= image_tag 'q_kou_r3_g10-2.png' %>
        <% elsif question_paper.question.id == 197 %>
          <%= image_tag 'q_otsu_r3_g10-2.png' %>
        <% end %>
        <% if question_paper.question.supplement1.present? %>
          <p class="mt-2 text-black">(1)　<%= question_paper.question.supplement1 %></p>
        <% end %>
        <% if question_paper.question.supplement2.present? %>
          <p class="mt-2 text-black">(2)　<%= question_paper.question.supplement2 %></p>
        <% end %>
        <% if question_paper.question.supplement3.present? %>
          <p class="mt-2 text-black">(3)　<%= question_paper.question.supplement3 %></p>
        <% end %>
        <% if question_paper.question.supplement4.present? %>
          <p class="mt-2 text-black">(4)　<%= question_paper.question.supplement4 %></p>
        <% end %>
        <% if question_paper.question.supplement5.present? %>
          <p class="mt-2 text-black">(5)　<%= question_paper.question.supplement5 %></p>
        <% end %>
        <% if question_paper.question.sub_sentence.present? %>
          <p class="mt-2 text-black">(イ)　<%= question_paper.question.sub_sentence %></p>
        <% end %>
        <% if question_paper.question.sub_sentence2.present? %>
          <p class="mt-2 text-black">(ロ)　<%= question_paper.question.sub_sentence2 %></p>
        <% end %>
        <% if question_paper.question.sub_sentence3.present? %>
          <p class="mt-2 text-black">(ハ)　<%= question_paper.question.sub_sentence3 %></p>
        <% end %>
        <% if question_paper.question.sub_sentence4.present? %>
          <p class="mt-2 text-black">(ニ)　<%= question_paper.question.sub_sentence4 %></p>
        <% end %>
        <% if question_paper.question.sub_sentence5.present? %>
          <p class="mt-2 text-black">(ホ)　<%= question_paper.question.sub_sentence5 %></p>
        <% end %>
        <% if question_paper.question.exception6.present? %>
          <p class="mt-2 text-black"><%= question_paper.question.exception6 %></p>
        <% end %>
        <br>
        <%= render partial: 'answer', locals: { question: question_paper.question, question_paper: question_paper } %>
        <% if question_paper.judge == true %>
          <%= render partial: 'true', locals: { question: question_paper.question, question_paper: question_paper } %>
        <% elsif question_paper.judge == false %>
          <%= render partial: 'false', locals: { question: question_paper.question, question_paper: question_paper } %>
        <% end %>
      </div>
    </div>
  </div>
<% end %>